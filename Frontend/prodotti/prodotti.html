<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Catalogo Prodotti</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="manifest" href="/manifest.webmanifest">

    <!-- Stile personalizzato -->
    <link rel="stylesheet" href="prodotti.css" />
  </head>
  <body data-utente="cliente"><!-- Cambia a "artigiano" per vedere pulsanti admin -->

    <nav class="navbar navbar-light bg-light">
      <div class="mx-auto">
        <form class="form-inline">
          <input
            class="form-control me-2 flex-grow-1"
            type="search"
            placeholder="Search"
            aria-label="Search"
            id="searchbar"
          >
          <!-- Rimosso onclick; associa in JS tramite id "btn-search" -->
          <button class="btn btn-outline-success my-2 my-sm-0" type="button" id="btn-search">
            Search
          </button>
          <button
            class="btn btn-outline-primary ms-2"
            type="button"
            data-bs-toggle="modal"
            data-bs-target="#modalFiltri"
          >
            Filtri
          </button>
          <button class="btn btn-outline-success my-2 my-sm-0" type="button" id="btn-clear">
            Pulisci zoccola
          </button>
        </form>
        <div class="text-center my-3" id="view-buttons">
          <!-- Rimosso onclick e aggiunti id per gestione tramite JS -->
          <button class="btn btn-outline-primary me-2" id="view-card">Card</button>
          <button class="btn btn-outline-secondary me-2" id="view-list">Lista</button>
          <button class="btn btn-outline-dark" id="view-fullscreen">Fullscreen</button>
        </div>
      </div>
    </nav>

    <!-- Sfondo con iframe -->
    <iframe
      class="background-frame"
      src="/HomePage/HomePage.html"
      title="Sfondo HomePage"
    ></iframe>

    <!-- Contenitore prodotti -->
    <div class="container my-5 position-relative prodotti-container">
      <h1 class="text-center mb-4">Prodotti disponibili</h1>
      <div class="row justify-content-center" id="lista-prodotti">
        <!-- Le card verranno generate dinamicamente via JS -->
      </div>
    </div>

    <!-- Modal per filtri -->
    <div class="modal fade" id="modalFiltri" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="filtroModalLabel">Filtra Prodotti</h5>
          </div>
          <div class="modal-body">
            <form id="form-filtri">
              <div class="mb-3">
                <label for="categoria" class="form-label">Categoria</label>
                <select id="categoria" class="form-select">
                  <option value="default">Tutte</option>
                  <option value="casa">Casa</option>
                  <option value="giardino">Giardino e esterni</option>
                  <option value="abbigliamento">Abbigliamento</option>
                  <option value="gioielli">Gioielli</option>
                  <option value="accessori">Accessori</option>
                  <option value="ufficio">Ufficio</option>
                  <option value="tecnologia">Tecnologia</option>
                  <option value="arte">Arte</option>
                  <option value="bambini">Bambini</option>
                  <option value="relax">Relax</option>
                  <option value="materiali">Materiali per artigianato</option>
                  <option value="altro">Altro</option>
                </select>
              </div>

              <div class="mb-3">
                <label for="prezzoMin" class="form-label">Prezzo minimo (€)</label>
                <input type="number" id="prezzoMin" class="form-control" min="0">
              </div>

              <div class="mb-3">
                <label for="prezzoMax" class="form-label">Prezzo massimo (€)</label>
                <input type="number" id="prezzoMax" class="form-control" min="0">
              </div>

              <div class="mb-3">
                <label for="produttore" class="form-label">Produttore</label>
                <select name="produttori" id="produttori" class="form-select">
                  <option value="default">Tutti</option>
                </select>
              </div>

              <div class="mb-3">
                <label for="ordine" class="form-label">Ordine</label>
                <select name="ordine" id="ordine" class="form-select">
                  <option value="default">Ultimi arrivi</option>
                  <option value="pa">Dal prezzo più alto</option>
                  <option value="pb">Dal prezzo più basso</option>
                  <option value="aa">Alfabetico A - Z</option>
                  <option value="ac">Alfabetico Z - A</option>
                </select>
              </div>
              <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="disponibili">
                <label class="form-check-label" for="disponibili">Disponibili</label>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button class="btn btn-secondary" data-bs-dismiss="modal" id="close">Chiudi</button>
            <button class="btn btn-primary" id="apply">Applica Filtri</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS Bundle (Popper incluso) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Script custom -->
    <script src="prodotti.js"></script>

    <!-- Script che gestisce modale filtri -->
    <script src="filtro.js"></script>
    <script src="/sw-register.js"></script>
  </body>
</html>